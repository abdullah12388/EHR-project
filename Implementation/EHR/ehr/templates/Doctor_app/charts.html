{% include "base.html" %}
{% block javascript %}
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>

<script>
{% endblock javascript %}


{% block jquery %}
var endpoint = '{%url "doctor:api-data"%}'
var  defulatdata1 = []
var labels1 = []
var  defulatdata2 = []
var labels2 = []
var  defulatdata3 = []
var labels3 = []
$.ajax({
  method:"GET",
  url:endpoint,
  success: function(data){
    labels1 = data.data1.label
    defulatdata1 = data.data1.default
    labels2 = data.data2.label
    defulatdata2 = data.data2.default
    labels3 = data.data3.label
    defulatdata3 = data.data3.default
    BarChart()
    Piechart()
    H_barchart()
    console.log(1000)
  },

  error: function(error_data){
    console.log("error");
    console.log(error_data);

  }
})

function BarChart()
{
  var ctx = document.getElementById('1').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'bar',
      data: {
          labels:labels1,
          datasets: [{
              label: '# of Votes',
              data: defulatdata1,
              backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)',
                  'rgba(75, 192, 192, 0.2)',
                  'rgba(153, 102, 255, 0.2)',
                  'rgba(255, 159, 64, 0.2)'
              ],
              borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)'
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero: true
                  }
              }]
          }
      }
  })
}
function Piechart()
{
  var ctx = document.getElementById('2').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
          labels:labels2,
          datasets: [{
              label: '# of Votes',
              data: defulatdata2,
              backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)',
                  'rgba(75, 192, 192, 0.2)',
                  'rgba(153, 102, 255, 0.2)',
                  'rgba(255, 159, 64, 0.2)'
              ],
              borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)'
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero: true
                  }
              }]
          }
      }
  })
}
function H_barchart()
{
  var ctx = document.getElementById('3').getContext('2d');
  var myChart = new Chart(ctx, {
      type: 'horizontalBar',
      data: {
          labels:labels3,
          datasets: [{
              label: '# of Votes',
              data: defulatdata3,
              backgroundColor: [
                  'rgba(255, 99, 132, 0.2)',
                  'rgba(54, 162, 235, 0.2)',
                  'rgba(255, 206, 86, 0.2)',
                  'rgba(75, 192, 192, 0.2)',
                  'rgba(153, 102, 255, 0.2)',
                  'rgba(255, 159, 64, 0.2)'
              ],
              borderColor: [
                  'rgba(255, 99, 132, 1)',
                  'rgba(54, 162, 235, 1)',
                  'rgba(255, 206, 86, 1)',
                  'rgba(75, 192, 192, 1)',
                  'rgba(153, 102, 255, 1)',
                  'rgba(255, 159, 64, 1)'
              ],
              borderWidth: 1
          }]
      },
      options: {
          scales: {
              yAxes: [{
                  ticks: {
                      beginAtZero: true
                  }
              }]
          }
      }
  })
}
{% endblock %}
</script>
{% block home_content %}

<div style="width:10px;height:175px"></div>
<div class="container">
    <div class="jumbotron">
      <div class='row'>
          <div class='col-sm-4'>
            <h1>Stat1</h1>
              <canvas id="1" width="400" height="400"></canvas>
          </div>
          <div class='col-sm-4'>
            <h1>Stat2</h1>
              <canvas id="2" width="400" height="400"></canvas>
          </div>
          <div class='col-sm-4'>
            <h1>Stat3</h1>
              <canvas id="3" width="400" height="400"></canvas>
          </div>
      </div>

    </div>
</div>

{% endblock home_content %}
